<!DOCTYPE html>
<html>

<head>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC-wPhSditxIw4NCaDAJBmIQyekLLnsJII&libraries=geometry"></script>
    <script src="lib/Leaflet.Coordinates-0.1.3.min.js"></script>
    <script src="lib/Leaflet.Coordinates-0.1.3.min.js"></script>
    <script src="lib/leaflet.textpath.js"></script>
    <script src="js/leaft.js"></script>
    <script src="js/leaflet-draw.js"></script>
    <script src="js/jquery.js"></script>
    <script src="js/leaf-let-ajax.js"></script>
    <link rel="stylesheet" href="lib/Leaflet.Coordinates-0.1.3.css">
    <link rel="stylesheet" href="lib/tab.css">
    <link rel="stylesheet" href="css/leaft.css">
    <link rel="stylesheet" href="css/leaf-let-draw.css">
    <link rel="stylesheet" href="css/font-awsom.css">
    <script src="lib/tab.js"></script>
    <link rel="stylesheet" href="lib/leaflet-search.src.css">
    <link rel="stylesheet" type="text/css" href="./map.css" />
    <link rel="stylesheet" type="text/css" href="./app.css" />
    <title>Nashville Historical Map</title>   
    <style>
        .leaflet-control-search.search-exp{
            display: inline-grid;
            width: 100%;
        }
        .search-tooltip{
            overflow-y: scroll;
            overflow-x: hidden;
            /* max-height: calc(100vh - 500px); */
            padding: 5px;
        }
        .slide{
            text-align: center;
        }
		.slide img {
			max-width: 280px;
            max-height: 280px;
		}
		.height {
			height: 10px;
		}
		
		/* Image-container design */
		.image-container {
			max-width: 400px;
			position: relative;
			margin: auto;
		}
		
		.next {
			right: 0;
		}
		
		/* Next and previous icon design */
		.previous,
		.next {
			cursor: pointer;
			position: absolute;
			top: 20px;
			padding: 10px 5px;
			margin-top: -25px;
            color: #000000;
		}
		
		/* caption decorate */
		.captionText {
			color: #f2c885;
			font-size: 14px;
			position: absolute;
			padding: 12px 12px;
			bottom: -30px;
			width: 100%;
			text-align: center;
		}
		
		/* Slider image number */
		.slideNumber {
			/* background-color: #5574C5; */
			color: black;
			border-radius: 25px;
			bottom: -40px;
			opacity: .5;
			margin: 5px;
			/* width: 30px;
			height: 30px; */
			text-align: center;
			font-weight: bold;
			font-size: 24px;
			position: absolute;
		}
		.fa {
			font-size: 32px;
		}

        
		
		/* .fa:hover {
			transform: rotate(360deg);
			transition: 1s;
			color: white;
		} */
		
		/* .footerdot {
			cursor: pointer;
			height: 15px;
			width: 15px;
			margin: 0 2px;
			background-color: #bbbbbb;
			border-radius: 50%;
			display: inline-block;
			transition: background-color 0.5s ease;
		} */
		
		/* .active,
		.footerdot:hover {
			background-color: black;
		} */
	</style>
</head>

<body>
    <div id="route">
        <!-- <h1 class="title">Traveling Salesman</h1> -->
        <div class="instructions">
            <div id="control-head">
            <div class="corner-image">
                <img src="images/leftPanalImages/ul-corner.png" id="ul-corner">
                <img src="images/leftPanalImages/ur-corner.png" id="ur-corner"alt="">
            </div>

            <div id="interact" class="grid-container">
                <div class="grid-item logo">
                    <img src="images/leftPanalImages/han-logo-2jan2023.png" id='logo'>
                </div>
                <div class="grid-item labeltxt" id="mode_text">
                    <span >Mode</span>
                </div>
              <!--   <div class="grid-item">
                    <div id='modeDiv' class="custom-select" onclick='selectMode(this)'>
                        <select name="mode" id="mode"></select>
						 
                    </div>
                </div> -->
				<div class="grid-item">
				<div id='modeDiv'  class="custom-select" onclick='selectMode(this)'>
				 <select name="mode" id="mode"> </select>
   </div>
   <select  name="mode" id="mode" class="form-select"></select>
   </div>
   
                <div class="grid-item labeltxt" id="year_text">
                    <span>Year</span>
                </div>
                <div class="grid-item" id="year_outer">
                    <div id='yearDiv' class="custom-select" onclick='selectYear(this)'>
                        <select name='year' id='year'></select>
                    </div>
                    <span class="hidden"></span>
                </div>

                <div class="grid-item labeltxt" id="overlay_text">
                    <span>2016 Overlay</span>
                </div> 
                <div id='overlayRadio' >
				  <div class="radio-inner">
                    <label class="onofflayer">
                        <input id="onRedioOverlay" type="radio" name="2016Overlay" value='on' onclick='select2016Overlay(this)'>On</input>
                        <span class="checkmark"></span>
                      </label>
                      <label class="onofflayer">
                        <input id="offRedioOverlay" type="radio" name="2016Overlay" value='off' onclick='select2016Overlay(this)' checked>Off</input>
                        <span class="checkmark"></span>
                      </label>
                    <!-- <input type="radio" name="2016Overlay" value='on' onclick='select2016Overlay(this)'>On</input>
                    <input type="radio" name="2016Overlay" value='off' onclick='select2016Overlay(this)' checked>Off</input> -->
					</div>
                    
                </div>
                <div class="grid-item">
                    <span class="hidden"></span>
                </div>
                             
            </div>
            <div>
                <img src="images/leftPanalImages/ll-corner.png" id="ll-corner">
                <img src="images/leftPanalImages/lr-corner.png" id="lr-corner" alt="">
            </div>
        </div>
            <div id="informationPanal" class="informationPanal">
                <!-- Tab links -->
                <div class="tab">
				<button id="about_btn" class="tablinks" onclick="openCity(event, 'About')">About</button>
                    <button id="selection_btn" class="tablinks" onclick="openCity(event, 'Selection')">Selection</button> <button id="legend_btn" class="tablinks" onclick="openCity(event, 'Legend')">Legend</button>
                    <button id="search_btn" class="tablinks" onclick="openCity(event, 'Search')">Search</button>
                </div>
                <!-- Tab content -->
				<div id="About" class="About tabcontent">
                    
                    <div id="about_head">
                      <h3> How to Get around</h3>
                    </div>
					<div class="inner-text">
					<p>Just Maps Mode: Maps of Nashville and Davidson County from 1871, 1903, 1929 and 1952 with the option to overlay a modern (2016) map for comparison.</p>
					<p>
					Landmarks Mode: Info and photos of historical buildings and other structures in existence at the time of the selected map.
					</p>
					<p>
					Streets Mode: The origin of street names where known, former names where applicable, and some historical and geographic trivia.
					</p>
					<p>
					Battle of Nashville Mode: A static map of the fortifications, earthworks and troop positions on December 15th, 1864 along with a modern map overlay.
					</p>
					<h3>The Making of</h3>
					<p>
					The atlas began way back in 2007 with a pair of maps drawn in Macromedia Freehand, a 2006-ish modern map and a 1952 map, and a rudimentary UI created in flash. Adobe's discouninuation of Freehand and Steve Jobs's 2010 Flash0killing public letter, "Thoughta on Flash", discouraged that particular vision and put the project on hold for a few years.
					</p>
					 <h3> Support</h3>
					 <p>If you've enjoyed this site or found it useful, you may want to make a contribution to degray the ongoing costs of development and hosting. Any amount will be appreciated. Paypal can be used for one-time donations and Patreon for recurring donations.</p>
					 
					  <div id="about_img">
					   <div id="about_img_inner">
                        <img id="about_content" src="images/about/patreon.png" />
						<img id="about_content" src="images/about/paypal.png" />
						</div>
                    </div>
					 <h3> Copyrights</h3>
					 <p>I own copyrights for none of the images displayed on the site. If you feel that a copyright has been infringed, please contact me at</p>
					</div>
                    <!-- <div id="uparrow"><img src="images/legend/expandedlegendbar.png"></div>
                    <div id="downarrow" style="display: none;"><img src="images/legend/collapsedlegendbar.png"></div> -->
                </div>
                <div id="Selection" class="tabcontent">
                    <div id="select_div">
                        <!-- <h4 id="SelectionName"></h4>
                        <p id="selectionAltName"></p>
                        <p id="selection_subtitle"></p>
                        <div class="image-container">
                            <div class="slide">                                
                                <img id="selection_img" hidden>
                                <div id="img_attribution" class="captionText"></div>
                            </div> -->
                            <!-- <div class="slide">                                
                                <img src="images/testimages/testimage2.png">
                                <div class="captionText">asdfate aetaedfd</div>
                            </div>
                            <div class="slide">                                
                                <img src="images/testimages/testimage3.png">
                                <div class="captionText">tesadf asdfaadfadsf asdf</div>
                            </div> -->
                    
                            <!-- Next and Previous icon to change images -->
                            <!-- <a class="previous" onclick="moveSlides(-1)"> -->
                                <!-- <i class="fa fa-chevron-left" aria-hidden="true"></i> -->
                                <!-- <img src="images/leftPanalImages/previous-enabled.png" /> -->
                            <!-- </a> -->
                            <!-- <a class="next" onclick="moveSlides(1)"> -->
                                <!-- <i class="fa fa-chevron-right"></i> -->
                                <!-- <img src="images/leftPanalImages/next-enabled.png" /> -->
                            <!-- </a> -->
                        <!-- </div> -->
                        <!-- <p id="selection_description"></p> -->
                    </div>
                </div>
                
				
                <div id="Legend" class="legend tabcontent">
                    
                    <div id="legend_img">
                        <img id="legend_content" src="images/legend/legendcontent_2jan2023.png" />
                    </div>
                    <!-- <div id="uparrow"><img src="images/legend/expandedlegendbar.png"></div>
                    <div id="downarrow" style="display: none;"><img src="images/legend/collapsedlegendbar.png"></div> -->
                </div>
                <div id="Search" class="tabcontent">
                    <div id="search_div">
                    <p>Enter a search term.</p>
                    <!-- <input type="radio" name="landmark" />
                    <label for="landmark">A landmark</label>
                    <input type="radio" name="street" />
                    <label for="street">A Street</label> -->
                    </div>
                </div>
            </div>            
        </div>
        <div id="gridCollapse" class="collapsible hidden">
            <img src="images/leftPanalImages/collapsebutton.png">
        </div>
        <div id="map"></div>
    </div>
</body>
<script src="lib/leaflet.active-layers.min.js" type="text/javascript" charset="utf-8"></script>
<script src='https://api.tiles.mapbox.com/mapbox.js/plugins/leaflet-omnivore/v0.3.1/leaflet-omnivore.min.js'></script>
<script src="data/vector/Landmarks 4 (for dev).js"></script>
<script src="data/vector/Streets 3 (for dev) geojson.js"></script>
<script src="lib/leaflet-search.src.js"></script>
<script src="lib/leaflet-clonelayer.js"></script>

<script src='nashville.js'></script>
<script src="lib/custom-select.js"></script>
<link rel="stylesheet" href="lib/custom-select.css">

<script>
    // collapsible left sidebar
    var coll = document.getElementsByClassName("collapsible");
    var i;
    $( document ).ready(function(){
        $('#Selection').show();
        // $('#selection_btn').css('border-bottom','none');
    });

    for (i = 0; i < coll.length; i++) {
        coll[i].addEventListener("click", function() {
            this.classList.toggle("active");
            // debugger;
            var content = this.previousElementSibling;
            var mapDiv = this.nextElementSibling;
            // debugger;
            if(this.classList[1] == 'active'){
                content.style.display = "none";
                mapDiv.style.width = "calc(100% - 5px)";
                mapDiv.style.borderLeft = "5px solid black";
                map.invalidateSize();
                this.style.left = "0px";
                this.style.marginLeft = '-15px';
                this.firstElementChild.src = 'images/leftPanalImages/expandbutton.png';                
            }else{
                content.style.display = "inline-flex";
                content.style.width = "calc(var(--CPwidth))";
                mapDiv.style.width = "calc(100% - var(--CPwidth) - 30px)";
                this.style.left = "calc(330px)";
                this.firstElementChild.src = 'images/leftPanalImages/collapsebutton.png';
            }
        });
    }
        // $( document ).ready(function(){
        //     $('#legend_content').hide();
        //     $('#legend_img').hide();
        //     $('#uparrow').hide();
        //     $('#downarrow').show();

        //     $('#uparrow').click(function(){
        //         $('#legend_content').hide();
        //         $('#legend_img').hide();
        //         $(this).hide();
        //         $('#downarrow').show();
        //     });
        //     $('#downarrow').click(function(){
        //         $('#legend_content').show();
        //         $('#legend_img').show();
        //         $(this).hide();
        //         $('#uparrow').show();
        //     });
                        
        //     // Get the element with id="defaultOpen" and click on it
        //     document.getElementById("Legend").click();
        // });
</script>
<script>
    // $('.instructions')[0].style.height = 'auto'
</script>
<script>
    var slideIndex = 1;
    displaySlide(slideIndex);

    function moveSlides(n) {
        displaySlide(slideIndex += n);
    }

    function activeSlide(n) {
        displaySlide(slideIndex = n);
    }

    /* Main function */
    function displaySlide(n) {
        var i;
        var totalslides =
            document.getElementsByClassName("slide");
        
        // var totaldots =
            // document.getElementsByClassName("footerdot");
        
        if (n > totalslides.length || n==1) {
            // last slide khe next yasa first slide khe waniu
            slideIndex = 1;
        }
        if (n < 1) {
            slideIndex = totalslides.length;
        }
        for (i = 0; i < totalslides.length; i++) {
            totalslides[i].style.display = "none";
        }
        // for (i = 0; i < totaldots.length; i++) {
        //     totaldots[i].className =
        //     totaldots[i].className.replace(" active", "");
        // }
        
        if(totalslides.length > 0)
        totalslides[slideIndex - 1].style.display = "block";
        // totaldots[slideIndex - 1].className += " active";
        // $(".slide img").on('load', function(){ 
        //     // alert('image loaded!');        
        //     for (i = 0; i < totalslides.length; i++) {
        //         if(totalslides[i].style.display == "block" && totalslides[i].children.length>0)
        //         {
        //             let imagChildr = totalslides[i].children;
        //             for(j = 0; j < imagChildr.length; j++){
        //                 $('.captionText').width(imagChildr[j].clientWidth)
        //                 .css('left', (370-imagChildr[j].clientWidth)/2)
        //                 .css('text-align','left');
        //             }

        //         }
                
        //     }
        // });
        
        
    }
</script>


</html>
